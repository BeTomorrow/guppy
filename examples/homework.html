<!doctype html>
<html>

<head>
    <title>Homework</title>

    <link rel="stylesheet" href="../build/guppy.min.css">
    <script type="text/javascript" src="../build/guppy.min.js"></script>
    <script type="text/javascript" src="../build/guppy_render.min.js"></script>
    <script type="text/javascript" src="../lib/math-expressions/math-expressions.js"></script>
    <script type="text/javascript">
     answers = ["1", "x^2", "( 4+ sqrt( 16 - 4 ) )/( 2 )"];
     blank = "\\color{gray}{\\text{Click here to start typing your answer}}";
     check_answer = function(idx){
	 attempt = Guppy.instances['ans'+(idx+1)].backend.get_content('text');
	 answer = answers[idx];
	 try{
	     if(MathExpression.fromText(attempt).equals(MathExpression.fromText(answer))) 
		 document.getElementById("res"+(idx+1)).innerHTML = '<font color="green">Correct</font>';
	     else
		 document.getElementById("res"+(idx+1)).innerHTML = '<font color="red">Incorrect</font>';
	 }
	 catch(e){
	     document.getElementById("res"+(idx+1)).innerHTML = '<font color="red">Invalid input</font>';
	 }
     }
     window.onload = function(){
	 
	 var g1 = new Guppy("ans1", {
	     "events":{'done': function(event) { check_answer(0); }},
	     "options":{'empty_content': blank,
			'blacklist': ["sin","cos","sec","tan","cot","csc"] }
	 });
	 var g2 = new Guppy("ans2", {
	     "events":{'done': function(event) { check_answer(1); }},
	     "options":{'empty_content': blank,
			'blacklist':["ln","log"]}
	 });
	 var g3 = new Guppy("ans3", {
	     "events":{'done': function(event) { check_answer(2); }},
	     "options":{'empty_content': "\\color{gray}{\\text{Click here to start typing your answer}}"}
	 });

	 
         Guppy.init_symbols(["../sym/symbols.json","../sym/extra_symbols.json"]);
	 console.log(document.getElementsByTagName("script")[5].getAttribute("id"));
	 GuppyRender.render_all();
      }
    </script>
    <style>
     div.answerbox {
	 width: 400px;
	 border: 2px solid black;
	 height: 23px;
	 padding: 10px;
	 box-shadow: 1px 1px 1px 0 lightgray inset;
	 cursor: text;
	 display:inline-block;
	 margin:10px;
     }
     .button {
	 cursor: pointer;
	 min-height: 23px;
	 display:inline-block;
	 background-color:#66f;
	 padding:10px;
	 border-radius: 5px;
     }
     li {
	 margin-bottom: 20px;
     }
    </style>
</head>

<body>
    <ul>
	<li>
	    Express <script id="qn1" type="text/guppy_xml"><m><e></e><f type="exponential" group="functions"><b p="latex">{<r ref="1"/>}^{<r ref="2"/>}</b><b p="text">(<r ref="1"/>)^(<r ref="2"/>)</b><c up="2" bracket="yes" delete="1" name="base"><e></e><f type="sin" group="functions"><b p="latex">\sin\left(<r ref="1"/>\right)</b><b p="text"> sin(<r ref="1"/>)</b><c delete="1"><e>z</e></c></f><e></e></c><c down="1" delete="1" name="exponent" small="yes"><e>2</e></c></f><e>+</e><f type="exponential" group="functions"><b p="latex">{<r ref="1"/>}^{<r ref="2"/>}</b><b p="text">(<r ref="1"/>)^(<r ref="2"/>)</b><c up="2" bracket="yes" delete="1" name="base"><e></e><f type="cos" group="functions"><b p="latex">\cos\left(<r ref="1"/>\right)</b><b p="text"> cos(<r ref="1"/>)</b><c delete="1"><e>z</e></c></f><e></e></c><c down="1" delete="1" name="exponent" small="yes"><e>2</e></c></f><e></e></m></script> without using any trigonometric functions.<br />
	    <div id="ans1" class="answerbox"></div>
	    <div class="button" onclick="check_answer(0)" id="sub1">Submit</div>
	    <span id="res1">Unanswered</span>
	</li>
	<li>
	    Simplify <script id="qn2" type="text/guppy_xml"><m><e></e><f type="exponential" group="functions"><b p="latex">{<r ref="1"/>}^{<r ref="2"/>}</b><b p="text">(<r ref="1"/>)^(<r ref="2"/>)</b><c up="2" bracket="yes" delete="1" name="base"><e>e</e></c><c down="1" delete="1" name="exponent" small="yes"><e>2</e><f type="ln" group="functions"><b p="latex">\ln\left(<r ref="1"/>\right)</b><b p="text"> ln(<r ref="1"/>)</b><c delete="1"><e>x</e></c></f><e></e></c></f><e></e></m></script><br />
	    <div id="ans2" class="answerbox"></div>
	    <div class="button" onclick="check_answer(1)" id="sub2">Submit</div>
	    <span id="res2">Unanswered</span>
	</li>
	<li>
	    Find the largest value of x solving: <script id="qn3" type="text/guppy_xml"><m><e></e><f type="exponential" group="functions"><b p="latex">{<r ref="1"/>}^{<r ref="2"/>}</b><b p="text">(<r ref="1"/>)^(<r ref="2"/>)</b><c up="2" bracket="yes" delete="1" name="base"><e>x</e></c><c down="1" delete="1" name="exponent" small="yes"><e>2</e></c></f><e>-4x+1</e></m></script><br />
	    <div id="ans3" class="answerbox"></div>
	    <div class="button" onclick="check_answer(2)" id="sub3">Submit</div>
	    <span id="res3">Unanswered</span>
	</li>
</body>

</html>
