<!doctype html>
<html>

<head>
    <title>Homework</title>

    <link rel="stylesheet" href="../build/guppy.min.css">
    <script type="text/javascript" src="../build/guppy.min.js"></script>
    <script type="text/javascript" src="../build/guppy_render.min.js"></script>
    <script type="text/javascript" src="../lib/math-expressions/math-expressions.js"></script>
    <script type="text/javascript">
     blank = "\\color{gray}{\\text{Import LaTeX or plaintext math below}}";
     import_ascii = function(){
	 try{
	     var data = document.getElementById("ascii_input").value;
	     fn_name = data.indexOf("\\") > -1 ? "fromLaTeX" : "fromText"  
	     g = Guppy.instances.math_input;
	     if(g) {
		 g.backend.set_content(MathExpression[fn_name](data).toXML())
		 g.render(true)
	     }
	 }
	 catch(e){
	     document.getElementById("res").innerHTML = '<font color="red">Input not understood</font>';
	 }
     }
     window.onload = function(){
	 var g1 = new Guppy("math_input", {
	     "options":{'empty_content': blank }
	 });
	 
	 Guppy.init_symbols(["../sym/symbols.json","../sym/extra_symbols.json"]);
     }
    </script>
    <style>
     #math_input {
	 width: 400px;
	 border: 2px solid black;
	 height: 75px;
	 padding: 10px;
	 box-shadow: 1px 1px 1px 0 lightgray inset;
	 cursor: text;
	 display:inline-block;
	 margin:10px;
     }
     button {
	 cursor: pointer;
	 min-height: 23px;
	 display:inline-block;
	 background-color:#66f;
	 padding:10px;
	 border-radius: 5px;
     }
     input {
	 min-height: 23px;
	 display:inline-block;
	 background-color:#ccc;
	 padding:10px;
	 border-radius: 5px;
     }
    </style>
</head>

<body> 
  <div id="math_input" class="answerbox"></div><br /><br />
  <input type="text" id="ascii_input" placeholder="Enter math here"></input>
  <button id="import_button" onclick="import_ascii()">Import text as math</button><br /><br />
  <span id="res" />
</body>

</html>
